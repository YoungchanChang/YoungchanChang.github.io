---
layout: post
title: Docker 이미지 삭제
category: docker
tags: [docker]
comments: docker, elasticsearch
---

> [참조](https://docs.docker.com/engine/reference/commandline/rm/)

(도커 : 이미지 다운로드 => 컨테이너로 실행)순을 거침.

# 도커 삭제 전에 이미지, 컨테이너 확인

- docker images : (도커 이미지 확인)

- docker ps 명령어 : 실행중인 컨테이너 목록을 확인

- docker ps -a 명령어 : 중지된 컨테이너

- `docker ps`와 `docker ps -a`명령어를 쳐보면 

# 도커 이미지 삭제

- `docker rmi` : 이미지 삭제 (이미지가 있다면 다운로드를 다시 하지 않음)

- `docker rm` 중지된 컨테이너 삭제

- `docker rmi명령어`로 이미지를 삭제할 수 있음

# 에러메시지와 해석

- docker rm했을 때 컨테이너가 실행중인 경우 아래와 같이 뜸. `docker stop [IMAGE ID]`로 먼저 멈추게 해야 함

```
$ docker rm 4e2eef94cd6b
Error: No such container: 4e2eef94cd6b
Error response from daemon: You cannot remove a running container. Stop the container before attempting removal or force remove
```

- 도커가 stop컨테이너에서 이미지로 사용되고 있는 경우 아래 메시지 뜸. docker stop [IMAGE ID]로 멈추고  docker rmi로 삭제할 수 있다.

- 에러메시지 [Error response from daemon: conflict: unable to delete bf756fb1ae65 (must be forced) - image is being used by stopped container 31376e84660d]
