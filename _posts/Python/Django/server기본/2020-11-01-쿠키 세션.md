---
layout: post
title: 장고 쿠키 세션
category: Django
tags: [python, Django]
comments: Django
---

# 쿠키와 세션

- 서버에서 사용자 식별을 할 때 이용한다. 쿠키는 사용자 측에 저장되고, 세션은 서버 측에서 저장된다.

- 쿠키는 헤더를 참조하면 되므로 속도가 빠르다. 세션은 서버의 자원을 사용하기 때문에 서버의 리소스를 많이 잡아먹는다.

- 하지만 쇼핑몰을 만든다면, 사용자의 구매 정보는 세션으로 하는 것이 좋다. 사용자의 클릭, 취소 기록이 전부 데이터로 남기 때문이다.

# 쿠키란

<center>
<figure>
<img src="https://imgur.com/jSuZ0i1.png" alt="views">
<figcaption></figcaption>
</figure>
</center>

- 아래 코드에서 res.set_cookie("id", id)로 쿠키에 정보를 담아서 사용자에 돌려준다.

- key : value로 값을 다룬다.

```python
from flask import Flask, make_response, request, render_template

@app.route('/')
def index():
    return render_template("index.html")


@app.route("/setcookie", methods=["GET", "POST"])
def setcookie():
    if request.method == "POST":
        user = request.form["name"]
        res = make_response("Create Cookie!!")
        res.set_cookie("userID", user)
        return res


@app.route("/getcookie")
def getcookie():
    name = request.cookies.get("userID")
    return name
```

# 쿠키정보

- `res.set_cookie("userID", user)`는 쿠키에 정보를 담는 코드이다.

- `request.cookies.get("userID")`는 사용자의 request에 사용자를 식별하는 코드이다.

- `C:\Users\msi\AppData\Local\Google\Chrome\User Data\Default`경로에 존재한다. SQLite로 볼 수 있다.

<center>
<figure>
<img src="https://imgur.com/zjDwJvU.png" alt="views">
<figcaption></figcaption>
</figure>
</center>

# 세션이란

<center>
<figure>
<img src="https://imgur.com/BzGl1x7.png" alt="views">
<figcaption></figcaption>
</figure>
</center>

# 참고

[예제코드](https://blog.d0ngd0nge.xyz/python-flask-cookie/)

[쿠키 저장 위치](https://dololak.tistory.com/581)

[세션 설명](https://enai.tistory.com/29)

[쿠키 세션 비교](https://jeong-pro.tistory.com/80)